<!DOCTYPE html>
<html lang="en">

<head>
	<title>Ethernet/IP Polling Tool</title>
	<meta content="text/html; charset=utf-8" />
	<link rel="stylesheet" href="styles.css" />
</head>

<script type="text/javascript">
	let i = 0;
	const refresh_rate = 1000
	function refresh() {
		i++;
		const xhttp = new XMLHttpRequest();
		xhttp.onload = function () { update(this); }
		xhttp.open("GET", "result");
		xhttp.send();
		console.log(i);
	}
	function update(data) {
		const res = data.responseText;
		document.getElementById('result_data').innerHTML = res;
		document.getElementById('pollid').innerHTML = i;
	}
	var timer = setInterval(refresh, refresh_rate);
</script>

<body>
	<div id="container">
		<div>
			Option 1
		</div>
		<div>
			Option 2
		</div>
		<div>
			Option 3
		</div>
	</div>
	<div id="topmenu">
		<div id="configcontainer">
			<a id="configlink" href=".\config.html">Configuration</a>
		</div>
		<div id="resultlink">
			<a href=".\result.html">Raw Value</a>
		</div>
		<div id="loginlink">
			Login
		</div>
	</div>

	<div id="endpoint">
		Ethernet/IP Device:{{ip}} TAG: {{tag}}
	</div>
	<div>
		<p id="pollid">Poll number</p>
		<p id="result_data">result data</p>
	</div>
</body>

</html>